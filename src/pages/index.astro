---
import Hero from '../components/Hero.astro';
import Modal from '../components/Modal.astro';
import Rooms from '../components/Rooms.astro';
import Layout from '../layouts/Layout.astro';

// In a real app, this would come from Cloudflare KV
const roomsData = [
  {
    id: 1,
    title: "Standard Room",
    price: 129,
    image: "https://images.unsplash.com/photo-1611892440504-42a792e24d32?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    guests: 2,
    beds: "1 King Bed",
    size: "35mÂ²",
    description: "Comfortable and affordable, perfect for short stays and business travelers.",
    badge: "Popular"
  },
  // Add other rooms...
];
---

<Layout title="MARWA Hotel | Book Your Stay">
  <Hero />
  <Rooms rooms={roomsData} />
  <!-- Booking Modal -->
  <Modal id="booking-modal" title="Book Your Stay">
    <form id="booking-form">
      <input type="hidden" id="selected-room" name="room">
      <input type="hidden" id="room-price" name="price">
      
      <div class="form-row">
        <div class="form-group">
          <label for="check-in">Check-in Date</label>
          <input type="date" id="check-in" name="checkin" required>
        </div>
        <div class="form-group">
          <label for="check-out">Check-out Date</label>
          <input type="date" id="check-out" name="checkout" required>
        </div>
      </div>
      
      <div class="form-row">
        <div class="form-group">
          <label for="guests">Number of Guests</label>
          <select id="guests" name="guests" required>
            <option value="1">1 Guest</option>
            <option value="2" selected>2 Guests</option>
            <option value="3">3 Guests</option>
            <option value="4">4 Guests</option>
            <option value="5">5 Guests</option>
            <option value="6">6 Guests</option>
          </select>
        </div>
        <div class="form-group">
          <label for="nights">Nights</label>
          <input type="text" id="nights" name="nights" readonly>
        </div>
      </div>
      
      <div class="form-row">
        <div class="form-group">
          <label for="name">Full Name</label>
          <input type="text" id="name" name="name" required>
        </div>
        <div class="form-group">
          <label for="email">Email Address</label>
          <input type="email" id="email" name="email" required>
        </div>
      </div>
      
      <div class="form-row">
        <div class="form-group">
          <label for="phone">Phone Number</label>
          <input type="tel" id="phone" name="phone" required>
        </div>
        <div class="form-group">
          <label for="total-price">Total Price</label>
          <input type="text" id="total-price" name="total-price" readonly>
        </div>
      </div>
      
      <button type="submit" class="btn" id="submit-booking">
        <span class="btn-text">Complete Booking</span>
        <span class="btn-loading" style="display: none;">
          <span class="loader"></span> Processing...
        </span>
      </button>
    </form>
  </Modal>
</Layout>